# BASIC SHELL ALIASES
alias ali='cat ~/.alias'
alias lsd='ls -Gl | grep "^d"'
alias lsort='echo "========== Newest ==========" && ls -At1 && echo "========== Oldest =========="'
alias reload="source ~/.bash_profile && clear"
alias cd..="cd .."
alias ..="cd .."
alias ...="cd ../.."
alias ....="cd ../../.."
alias .....="cd ../../../.."
alias ......="cd ../../../../.."


# COMPOSER
composerrun() {
  if [[ -d .ddev  ]]; then
    ddev composer "$1"
  else
    composer "$1"
  fi
}

alias cssd="composerrun cssd"
alias cssdb="composerrun cssdb"
alias sync="composerrun sync"


# GIT
alias gita="git add -A"
alias gits="git status"
alias gitrm="git rm --cached -r . -f"
alias gitir="git rm --cached -r . && git add ."


# NPM
npmrun() {
  if [[ -f .ddev/commands/web/npm  ]]; then
    ddev npm run "$1"
  elif [[ -d .ddev  ]]; then
    ddev exec npm run "$1"
  elif [[ -f .nvmrc && -r .nvmrc ]]; then
    nvm use && npm run "$1"
  else
    npm run "$1"
  fi
}

alias build="npmrun build"
alias comp="npmrun component"
alias dev="npmrun dev"
alias prod="npmrun prod"
alias new="npmrun new"
alias setup="npmrun setup"
alias start="npmrun start"
alias test="npmrun test"
alias update="npmrun update"
alias watch="npmrun watch"


# NPM
yarnrun() {
  if [[ -f .ddev/commands/web/npm  ]]; then
    ddev yarn "$1"
  elif [[ -d .ddev  ]]; then
    ddev exec yarn "$1"
  elif [[ -f .nvmrc && -r .nvmrc ]]; then
    nvm use && yarn "$1"
  else
    yarn "$1"
  fi
}

alias ybuild="yarnrun build"
alias ycomp="yarnrun component"
alias ydev="yarnrun dev"
alias yprod="yarnrun prod"
alias ynew="yarnrun new"
alias ysetup="yarnrun setup"
alias ystart="yarnrun start"
alias ytest="yarnrun test"
alias yupdate="yarnrun update"
alias ywatch="yarnrun watch"